import{r as d,u as y,e as D,c as V,o as x,f as N,g,h as a,k as e,w as s,T as R,U as h,N as B,W as w,X as F,Y as M,_ as k,Z as E,t as A}from"./vendor.e2990882.js";import{u as b}from"./useCutDown.e2b142a0.js";import{a as I,e as T}from"./valid.f10c45cb.js";import{b as H,c as L,_ as O}from"./index.dfc6a663.js";import{_ as P}from"./CpnBlockCard.b5646fe7.js";import"./BaseTitle.62ed6cfd.js";function G(m){const o=d(!1),f=y(),t=D(),u=d(""),l=d(""),i=d("");function r(){return T(u.value)?!0:(t.error("\u8BF7\u586B\u5199\u6B63\u786E\u7684\u90AE\u7BB1"),!1)}async function p(){if(r()){const{emailToken:n}=await H(u.value);i.value=n,m.value=60}}function c(){return I(l.value)?!0:(t.error("\u9A8C\u8BC1\u7801\u9700\u4E3A\u516D\u4F4D\u6570\u5B57"),!1)}function _(n){u.value=n}function C(n){l.value=n}async function v(){if(r()&&c()){o.value=!0;const n=await L(u.value,i.value,l.value);if(o.value=!1,n)return f.push("./login")}}return{message:t,code:l,email:u,emailTokenR:i,registerLoading:o,sendCodeMessage:p,validEmailCode:c,emailValueChangeHandle:_,emailCodeValueChangeHandle:C,sendRegisterhandle:v}}const K=["onClick"],S={class:"register-main"},U={class:"register-inner"},W=E("\u6CE8\u518C"),X=V({setup(m){const o=y(),{codeMessage:f,cutDown:t}=b(),{registerLoading:u,sendCodeMessage:l,emailValueChangeHandle:i,emailCodeValueChangeHandle:r,sendRegisterhandle:p}=G(t);function c(){o.push("/home")}function _(){o.push("/login")}return(C,v)=>(x(),N("div",{class:"register",onClick:R(c,["self"])},[g("div",S,[a(e(P),{title:"\u6CE8\u518C\u8D26\u53F7 \u{1F533}"},{default:s(()=>[g("div",U,[a(e(F),null,{default:s(()=>[a(e(h),{placeholder:"\u8F93\u5165\u60A8\u7684\u90AE\u7BB1","on-update:value":e(i)},{prefix:s(()=>[a(e(B),{component:e(w)},null,8,["component"])]),_:1},8,["on-update:value"])]),_:1}),a(e(F),null,{default:s(()=>[a(e(h),{placeholder:"\u9A8C\u8BC1\u7801","on-update:value":e(r)},{prefix:s(()=>[a(e(B),{component:e(M)},null,8,["component"])]),_:1},8,["on-update:value"]),a(e(k),{type:"primary",disabled:e(t)>-1,strong:"",onClick:e(l)},{default:s(()=>[E(A(e(f)),1)]),_:1},8,["disabled","onClick"])]),_:1}),g("div",{class:"login",onClick:_},"\u5DF2\u6709\u8D26\u53F7\uFF1F\u8DF3\u8F6C\u767B\u5F55"),a(e(k),{type:"primary",strong:"",loading:e(u),disabled:e(u),onClick:e(p)},{default:s(()=>[W]),_:1},8,["loading","disabled","onClick"])])]),_:1})])],8,K))}});var J=O(X,[["__scopeId","data-v-c6526a8e"]]);export{J as default};
